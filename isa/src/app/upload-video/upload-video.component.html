<div class="upload-container">
    <h3>Create Video Post</h3>
    <form (ngSubmit)="onSubmit()" #uploadForm="ngForm">
        <input type="text" [(ngModel)]="videoData.title" name="title" placeholder="Title" required>
        <textarea [(ngModel)]="videoData.description" name="description" placeholder="Description"></textarea>
        <input type="text" [(ngModel)]="tagInput" (keyup.enter)="addTag()" name="tagInput" placeholder="Add tags (press enter)">

        <div class="tags-list">
            <span *ngFor="let tag of videoData.tags" class="tag-badge">{{tag}}</span>
        </div>

        <div class="location-wrapper">
            <input type="text" 
                   [(ngModel)]="videoData.location.displayName" 
                   name="location" 
                   placeholder="Search location (e.g. Belgrade)..."
                   (input)="onLocationInput($event)"
                   autocomplete="off"
                   class="location-input">
            
            <div class="spinner" *ngIf="isSearching"></div>
            
            <ul class="suggestions-list" *ngIf="suggestions.length > 0">
                <li *ngFor="let suggestion of suggestions" (click)="selectLocation(suggestion)">
                    {{ suggestion.display_name }}
                </li>
            </ul>
        </div>

        <div class="scheduling-section">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="isScheduled" [(ngModel)]="isScheduled" name="isScheduled">
                <label class="form-check-label" for="isScheduled">Schedule as Live Premiere</label>
            </div>

            <div *ngIf="isScheduled" class="mt-2">
                <label class="form-label">Start Date & Time:</label>
                <input type="datetime-local" 
                       [(ngModel)]="videoData.scheduledTime" 
                       name="scheduledTime" 
                       class="form-control"
                       [required]="isScheduled">
                <small class="text-muted">The video will sync for all viewers starting from this moment.</small>
            </div>
        </div>

        <div class="file-inputs">
            <label>Video (MP4, max 200MB):</label>
            <input type="file" (change)="onVideoSelected($event)" accept="video/mp4">
            
            <label>Thumbnail image:</label>
            <input type="file" (change)="onThumbSelected($event)" accept="image/*">
        </div>
        <button type="submit" class="btn-upload" [disabled]="!selectedVideo || !selectedThumb">
            Upload Video
        </button>
    </form>
</div>